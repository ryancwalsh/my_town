<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
        <title>MyTown</title>
        <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" media="all" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet/less" type="text/css" href="styles/main.less" />
        <link rel="stylesheet/less" type="text/css" href="styles/jquery.tagsinput.less" />
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
        <script src="js/underscore-1.1.6.js"></script>
        <script src="js/less-1.3.3.js" type="text/javascript"></script>
        <script src="//www.parsecdn.com/js/parse-1.0.0.js"></script>
        <script src="js/parse.js"></script>
        <script src="js/goog.js"></script>
        <script src="js/main.js"></script>
        <script src="js/jquery.tagsinput.js"></script>
        <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDVr7hka_Jl20VLLjkKE4MlldVThYVxASk&libraries=places&sensor=false"></script>
        <script type="text/javascript">
            var oneall_js_protocol = (("https:" == document.location.protocol) ? "https" : "http");
            document.write(unescape("%3Cscript src='" + oneall_js_protocol + "://fxn360.api.oneall.com/socialize/library.js' type='text/javascript'%3E%3C/script%3E"));//TODO: change OneAll subdomain/app name.
        </script>
        <script src="js/data_migration.js"></script>
    </head>

    <body>
        Sign in using: 
        <div id="social_login_container"></div>
        <input id="searchTextField" name="search" type="text" placeholder="Search for a restaurant, park, etc..."/>
        <input id="searchMySpots" name="searchMySpots" type="text" placeholder="Search my Spots..."/>
        <div id="map_canvas"></div>
        <div class="mySpots"></div>
        <form id="editSpotForm">
            <input name="name" placeholder="Name" type="text" value=""/><br/>
            <input name="tags" placeholder="Tags (food, outdoor, touristy, etc)" type="text" value=""/><br/>
            <textarea name="notes" placeholder="Notes"></textarea><br/>
            <input name="website" placeholder="Website URL" type="text" value=""/><br/>
            <input name="yelp" placeholder="Yelp URL" type="text" value=""/><br/>
            <input name="menu" placeholder="Menu URL" type="text" value=""/><br/>
            <input name="icon" placeholder="Icon URL" type="text" value=""/><br/>
            <label for="been_there" class="checkbox">
                <input id="been_there" name="been_there" type="checkbox" /> Been there?
            </label><br/>
            <label for="would_go_again" class="checkbox">
                <input id="would_go_again" name="would_go_again" type="checkbox" /> Would go again?
            </label>
            <input name="id" type="hidden" value=""/>
            <input name="save" type="submit" value="Save" class="btn"/>
        </form>

        <script type="text/javascript">

            var mySpots;
            $(document).ready(function(){
                var center = new google.maps.LatLng(32.79503, -117.24142);//San Diego
                var autocomplete = generateAutocomplete(center);
                var zoom = 13;//0 = out to earth level, 18 is very close in
                var mapTypeId = google.maps.MapTypeId.ROADMAP;//ROADMAP, SATELLITE, HYBRID, TERRAIN
                var map = initializeMap(center, zoom, mapTypeId);
                addAutocompleteListener(autocomplete, map);
                mySpots = getSpotsForUser(tempUserObj, map);                
                $('input[name="tags"]').tagsInput({
                    width: 400,
                    height: 40
                });

                oneall.api.plugins.social_login.build("social_login_container", {                    
                    'providers' :  ['google', 'facebook', 'openid'], //'linkedin', 'twitter', 'yahoo'
                    //'css_theme_uri': 'https://oneallcdn.com/css/api/socialize/themes/buildin/signin/large-v1.css',
                    'grid_size_x': '3',
                    'callback_uri': 'https://yaH11lzPCB3w9ExzINJfcRq34YK1u7yRuUgOPko3:javascript-key=uNYybtZweTwox5bW1ETykpkNdZhvHaaQCn0BFpTU@api.parse.com/1/functions/oneAllCallback'//https://www.parse.com/questions/reading-post-variables-in-parse-cloud-code
                });
            });//end doc ready

        </script>
    </body>
</html>
<!--
TODO:
tags
filtering
clicking icon on map should show details of that Spot
ACLs
goog login, OneAll, or js-based flexible openId login?
styles / UX
tutorials / flow
pagination
searching
user set latLng and zoom
map moving changes results
clicking map should enable me to add a Spot there
Yelp link
name-->
